<head></head>

<body>
  <h1>Cron√¥metro</h1>
  <div id="chronoExample">
    <div class="values">00:00:00</div>
    <div>
      <button class="startButton">Iniciar</button>
      <button class="pauseButton">Pausar</button>
      <button class="stopButton">Parar</button>
      <button class="resetButton">Reiniciar</button>
    </div>
  </div>
  <script>
    const { Timer } = require('easytimer.js');
    const timer = new Timer();
    const electron = require('electron');

    const { ipcRenderer } = electron;

    let timeUpdate;

    document.querySelector('#chronoExample .startButton')
      .addEventListener('click',
        () => timer.start()
      );

    document.querySelector('#chronoExample .pauseButton')
      .addEventListener('click',
        () => timer.pause()
      );

    document.querySelector('#chronoExample .stopButton')
      .addEventListener('click',
        () => timer.stop()
      );

    document.querySelector('#chronoExample .resetButton')
      .addEventListener('click',
        () => timer.reset()
      );

    timer.addEventListener('secondsUpdated', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });

    timer.addEventListener('started', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });

    timer.addEventListener('reset', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });
  </script>
</body>
