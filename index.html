<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel='stylesheet' href='./node_modules/bootstrap/dist/css/bootstrap.min.css'>
</head>

<body>
  <h1 class="text-center mt-1">Cron√¥metro</h1>
  <div id="chronoExample">
    <h2 class="values text-center">00:00:00</h2>
    <div class="container text-center">
      <button class="startButton btn btn-primary">Iniciar</button>
      <button class="pauseButton btn btn-success">Pausar</button>
      <button class="stopButton btn btn-warning">Parar</button>
      <button class="resetButton btn btn-info">Reiniciar</button>
    </div>
  </div>
  <script>
    const { Timer } = require('easytimer.js');
    const timer = new Timer();
    const electron = require('electron');

    const { ipcRenderer } = electron;

    let timeUpdate;

    document.querySelector('#chronoExample .startButton')
      .addEventListener('click',
        () => timer.start()
      );

    document.querySelector('#chronoExample .pauseButton')
      .addEventListener('click',
        () => timer.pause()
      );

    document.querySelector('#chronoExample .stopButton')
      .addEventListener('click',
        () => timer.stop()
      );

    document.querySelector('#chronoExample .resetButton')
      .addEventListener('click',
        () => timer.reset()
      );

    timer.addEventListener('secondsUpdated', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });

    timer.addEventListener('started', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });

    timer.addEventListener('reset', e => {
      timeUpdate = timer.getTimeValues().toString();
      document.querySelector('#chronoExample .values').innerHTML = timeUpdate;
      ipcRenderer.send('timeUpdate', timeUpdate);
    });
  </script>
  <script src="./node_modules/jquery/dist/jquery.slim.min.js"></script>
  <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>
